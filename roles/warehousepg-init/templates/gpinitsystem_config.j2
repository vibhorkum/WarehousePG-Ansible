########## WarehousePG Initialization Configuration File ##########
# This file is generated by Ansible - do not edit manually
#
# This file contains configuration parameters for gpinitsystem utility
# which is used to initialize a WarehousePG cluster.
########################################################################

#### REQUIRED PARAMETERS ####

# Segment prefix - naming convention for segments (e.g., gpseg0, gpseg1)
SEG_PREFIX={{ whpg_seg_prefix }}

# Base port number for primary segments
# Each segment on a host will use PORT_BASE + segment_number
PORT_BASE={{ whpg_port_base }}

# Array of data directories for primary segments
# The number of directories determines segments per host
declare -a DATA_DIRECTORY=({% for dir in whpg_data_directories %}{{ dir }}{% if not loop.last %} {% endif %}{% endfor %})

# Coordinator hostname (must match hostname in inventory)
COORDINATOR_HOSTNAME={{ whpg_coordinator_hostname }}

# Coordinator data directory location
COORDINATOR_DIRECTORY={{ whpg_coordinator_directory }}

# Coordinator port number
COORDINATOR_PORT={{ whpg_coordinator_port }}

# Trusted shell for remote operations
TRUSTED_SHELL={{ whpg_trusted_shell }}

# Number of checkpoint segments
CHECK_POINT_SEGMENTS={{ whpg_checkpoint_segments }}

# Database encoding
ENCODING={{ whpg_encoding }}

{% if whpg_enable_mirrors %}
#### MIRROR SEGMENT CONFIGURATION ####

# Base port number for mirror segments
MIRROR_PORT_BASE={{ whpg_mirror_port_base }}

# Array of data directories for mirror segments
declare -a MIRROR_DATA_DIRECTORY=({% for dir in whpg_mirror_data_directories %}{{ dir }}{% if not loop.last %} {% endif %}{% endfor %})

{% endif %}
{% if whpg_locale %}
#### LOCALE CONFIGURATION ####

# Locale setting for the database
LOCALE={{ whpg_locale }}

{% endif %}
{% if whpg_additional_params %}
#### ADDITIONAL PARAMETERS ####

{% for key, value in whpg_additional_params.items() %}
{{ key }}={{ value }}
{% endfor %}
{% endif %}

#### OPTIONAL PARAMETERS ####
# Uncomment and modify as needed

# Database name (default: same as user who runs gpinitsystem)
# DATABASE_NAME=gpadmin

# Array of coordinator hostname and port for coordinator mirroring
# Only used when initializing a standby coordinator
# MIRROR_PORT_BASE=6000
# COORDINATOR_PORT_BASE=5432

# Machine list file for gpinitsystem
# MACHINE_LIST_FILE=/home/gpadmin/gpconfigs/machine_list

########################################################################
# End of configuration file
########################################################################
