all:
  vars:
    # SSH Configuration - Update these values
    ansible_user: rocky  # Change to your SSH user (ec2-user, ubuntu, rocky, etc.)
    ansible_ssh_private_key_file: ~/.ssh/id_rsa  # Path to your private key
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
  children:
    whpg_primary_site:
      children:
        whpg_primary_coordinator:
          hosts:
            whpg-coordinator:
              ansible_host: 3.22.42.68
              hostname: whpg-coordinator
        whpg_primary_segments:
          hosts:
            whpg-segment:
              ansible_host: 18.226.172.107
              hostname: whpg-segment

    whpg_dr_site:
      children:
        whpg_dr_coordinator:
          hosts:
            dr-coordinator:
              ansible_host: 210.0.0.4
              hostname: dr-coordinator
              upstream_cluster: whpg_primary_site
              replication_slot: dr-coordinator
              restore_command: "rsync -a /mnt/wal_archive/whpg-coordinator/%f \"%p\""
        whpg_dr_segments:
          hosts:
            dr-segment:
              ansible_host: 210.0.0.1
              hostname: dr-segment
              upstream_segment: whpg-segment
              replication_slot: dr-segment
              restore_command: "rsync -a /mnt/wal_archive/whpg-segment/%f \"%p\""
