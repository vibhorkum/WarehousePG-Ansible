all:
  vars:
    # ============================================================
    # SSH Configuration - Update these values for your environment
    # ============================================================
    ansible_user: rocky  # Change to your SSH user (ec2-user, ubuntu, rocky, etc.)
    ansible_ssh_private_key_file: ~/.ssh/id_rsa  # Path to your private key
    ansible_ssh_common_args: '-o StrictHostKeyChecking=accept-new -o ConnectTimeout=30'
    
  children:
    # ============================================================
    # PRIMARY SITE
    # ============================================================
    # Each site uses IDENTICAL hostnames (whpg-coordinator, whpg-segment)
    # Site-local /etc/hosts maps to site-specific IPs
    # Replication uses IP addresses or replication aliases
    whpg_primary_site:
      children:
        whpg_primary_coordinator:
          hosts:
            whpg-coordinator:
              ansible_host: 192.168.1.10     # Public/reachable IP for SSH
              private_ip: 10.0.2.40          # Private IP for cluster communication
              hostname: whpg-coordinator
              site_name: site1
              replication_alias: site1-coordinator-repl
        
        # Primary segment servers
        # Total segments = (number of servers) Ã— (length of whpg_data_directories)
        # Example: 2 servers with 2 data directories = 4 segment instances
        whpg_primary_segments:
          hosts:
            whpg-segment:
              ansible_host: 192.168.1.11     # Public/reachable IP for SSH
              private_ip: 10.0.9.61          # Private IP for cluster communication
              hostname: whpg-segment
              site_name: site1
              replication_alias: site1-segment-repl
            
            # Add more segment servers as needed:
            # whpg-segment2:
            #   ansible_host: 192.168.1.12
            #   private_ip: 10.0.9.62
            #   hostname: whpg-segment2
            #   site_name: site1
            #   replication_alias: site1-segment2-repl

    # ============================================================
    # DR SITE (Disaster Recovery)
    # ============================================================
    # DR Site uses UNIQUE hostnames (dr-coordinator, dr-segment) to avoid conflicts
    # This allows cross-site mirroring where DR can resolve primary hostnames
    whpg_dr_site:
      children:
        whpg_dr_coordinator:
          hosts:
            dr-coordinator:
              ansible_host: 192.168.2.10     # Public/reachable IP for SSH
              private_ip: 10.0.10.40         # Private IP for cluster communication
              hostname: dr-coordinator
              site_name: site2
              replication_alias: site2-coordinator-repl
              
        # DR segment servers (for mirrors when using whpg_use_dr_site_mirrors)
        # Should match the number and configuration of primary segments
        whpg_dr_segments:
          hosts:
            dr-segment:
              ansible_host: 192.168.2.11     # Public/reachable IP for SSH
              private_ip: 10.0.12.61         # Private IP for cluster communication
              hostname: dr-segment
              site_name: site2
              replication_alias: site2-segment-repl
            
            # Add DR segment servers to match primary segment count:
            # dr-segment2:
            #   ansible_host: 192.168.2.12
            #   private_ip: 10.0.12.62
            #   hostname: dr-segment2
            #   site_name: site2
            #   replication_alias: site2-segment2-repl
